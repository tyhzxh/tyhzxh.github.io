<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>Java | tyhzxhçš„ä¸ªäººåšå®¢</title>
<meta name="keywords" content="">
<meta name="description" content="åˆ†äº«æŠ€æœ¯ã€æ€è€ƒä¸ç”Ÿæ´»çš„ä¸ªäººåšå®¢">
<meta name="author" content="tyhzxh">
<link rel="canonical" href="https://tyhzxh.github.io/tags/java/">
<link crossorigin="anonymous" href="/assets/css/stylesheet.8ee78296343cf29844826f6d943ca1b6638fc5059dcdf673ace996a7617f1b69.css" integrity="sha256-jueCljQ88phEgm9tlDyhtmOPxQWdzfZzrOmWp2F/G2k=" rel="preload stylesheet" as="style">
<link rel="icon" href="https://tyhzxh.github.io/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://tyhzxh.github.io/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://tyhzxh.github.io/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://tyhzxh.github.io/apple-touch-icon.png">
<link rel="mask-icon" href="https://tyhzxh.github.io/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<link rel="alternate" type="application/rss+xml" href="https://tyhzxh.github.io/tags/java/index.xml">
<link rel="alternate" hreflang="en" href="https://tyhzxh.github.io/tags/java/">
<noscript>
    <style>
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: rgb(29, 30, 32);
                --entry: rgb(46, 46, 51);
                --primary: rgb(218, 218, 219);
                --secondary: rgb(155, 156, 157);
                --tertiary: rgb(65, 66, 68);
                --content: rgb(196, 196, 197);
                --code-block-bg: rgb(46, 46, 51);
                --code-bg: rgb(55, 56, 62);
                --border: rgb(51, 51, 51);
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript>
<style>
/* å½’æ¡£é¡µé¢æ‘˜è¦æ ·å¼ */
.archive-summary {
  margin-bottom: 2rem;
  padding: 1rem;
  background: var(--theme);
  border-radius: 8px;
  border: 1px solid var(--border);
  text-align: center;
  color: var(--secondary);
  font-size: 0.9rem;
}

/* åˆ†é¡µå¯¼èˆªæ ·å¼ */
.pagination {
  display: flex !important;
  justify-content: center;
  align-items: center;
  gap: 1rem;
  margin: 3rem 0;
  padding: 2rem 0;
  border-top: 1px solid var(--border);
}

/* è¦†ç›–ä¸»é¢˜é»˜è®¤æ ·å¼ */
.pagination a.pagination-prev,
.pagination a.pagination-next {
  padding: 0.75rem 1.5rem !important;
  background: var(--entry) !important;
  border: 1px solid var(--border) !important;
  border-radius: 6px !important;
  text-decoration: none !important;
  color: var(--primary) !important;
  font-weight: 500 !important;
  transition: all 0.3s ease !important;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05) !important;
  font-size: 14px !important;
  line-height: normal !important;
}

.pagination a.pagination-prev:hover,
.pagination a.pagination-next:hover {
  background: var(--hljs-bg) !important;
  color: var(--primary) !important;
  transform: translateY(-2px) !important;
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1) !important;
  border-color: var(--tertiary) !important;
}

.pagination-numbers {
  display: flex;
  gap: 0.5rem;
  align-items: center;
}

.pagination a.pagination-number,
.pagination-current {
  display: inline-flex !important;
  align-items: center !important;
  justify-content: center !important;
  width: 2.5rem !important;
  height: 2.5rem !important;
  border-radius: 50% !important;
  text-decoration: none !important;
  font-weight: 500 !important;
  transition: all 0.3s ease !important;
  font-size: 14px !important;
  line-height: normal !important;
  padding: 0 !important;
}

.pagination a.pagination-number {
  background: var(--entry) !important;
  border: 1px solid var(--border) !important;
  color: var(--primary) !important;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05) !important;
}

.pagination a.pagination-number:hover {
  background: var(--hljs-bg) !important;
  color: var(--primary) !important;
  transform: scale(1.1) !important;
  border-color: var(--tertiary) !important;
}

.pagination-current {
  background: var(--tertiary) !important;
  color: var(--primary) !important;
  border: 1px solid var(--tertiary) !important;
  font-weight: 600 !important;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1) !important;
}

/* å“åº”å¼è®¾è®¡ */
@media (max-width: 768px) {
  .pagination {
    flex-direction: column;
    gap: 1rem;
  }
  
  .pagination-prev,
  .pagination-next {
    width: 100%;
    text-align: center;
  }
  
  .pagination-numbers {
    order: -1;
  }
  
  .archive-summary {
    font-size: 0.8rem;
    padding: 0.75rem;
  }
}

/* æš—è‰²ä¸»é¢˜é€‚é… */
[data-theme="dark"] .archive-summary {
  background: var(--entry);
}

[data-theme="dark"] .pagination-prev,
[data-theme="dark"] .pagination-next,
[data-theme="dark"] .pagination-number {
  background: var(--entry);
  border-color: var(--border);
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.2);
}

[data-theme="dark"] .pagination-prev:hover,
[data-theme="dark"] .pagination-next:hover,
[data-theme="dark"] .pagination-number:hover {
  background: var(--hljs-bg);
  border-color: var(--tertiary);
}

[data-theme="dark"] .pagination-current {
  background: var(--tertiary);
  border-color: var(--tertiary);
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
}
</style><meta property="og:url" content="https://tyhzxh.github.io/tags/java/">
  <meta property="og:site_name" content="tyhzxhçš„ä¸ªäººåšå®¢">
  <meta property="og:title" content="Java">
  <meta property="og:description" content="åˆ†äº«æŠ€æœ¯ã€æ€è€ƒä¸ç”Ÿæ´»çš„ä¸ªäººåšå®¢">
  <meta property="og:locale" content="zh-cn">
  <meta property="og:type" content="website">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Java">
<meta name="twitter:description" content="åˆ†äº«æŠ€æœ¯ã€æ€è€ƒä¸ç”Ÿæ´»çš„ä¸ªäººåšå®¢">

</head>

<body class="list" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://tyhzxh.github.io/" accesskey="h" title="tyhzxhçš„ä¸ªäººåšå®¢ (Alt + H)">tyhzxhçš„ä¸ªäººåšå®¢</a>
            <div class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)" aria-label="Toggle theme">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </div>
        <ul id="menu">
            <li>
                <a href="https://tyhzxh.github.io/" title="é¦–é¡µ">
                    <span>é¦–é¡µ</span>
                </a>
            </li>
            <li>
                <a href="https://tyhzxh.github.io/posts/" title="æ–‡ç« ">
                    <span>æ–‡ç« </span>
                </a>
            </li>
            <li>
                <a href="https://tyhzxh.github.io/archives/" title="å½’æ¡£">
                    <span>å½’æ¡£</span>
                </a>
            </li>
            <li>
                <a href="https://tyhzxh.github.io/tags/" title="æ ‡ç­¾">
                    <span>æ ‡ç­¾</span>
                </a>
            </li>
            <li>
                <a href="https://tyhzxh.github.io/search/" title="æœç´¢ (Alt &#43; /)" accesskey=/>
                    <span>æœç´¢</span>
                </a>
            </li>
            <li>
                <a href="https://tyhzxh.github.io/about/" title="å…³äº">
                    <span>å…³äº</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main"> 
<header class="page-header"><div class="breadcrumbs"><a href="https://tyhzxh.github.io/">Home</a>&nbsp;Â»&nbsp;<a href="https://tyhzxh.github.io/tags/">Tags</a></div>
  <h1>
    Java
  </h1>
</header>

<article class="post-entry tag-entry"> 
<figure class="entry-cover">
        <img loading="lazy" src="https://images.unsplash.com/photo-1558494949-ef010cbdcc31?w=800&amp;h=400&amp;fit=crop" alt="Java IOæµå¤„ç†">
</figure>
  <header class="entry-header">
    <h2 class="entry-hint-parent">Javaç¼“å†²æµè¯¦è§£ï¼šæå‡IOæ€§èƒ½çš„å…³é”®æŠ€æœ¯
    </h2>
  </header>
  <div class="entry-content">
    <p>ç¼“å†²æµæ¦‚è¿° ç¼“å†²æµï¼ˆBuffered Streamï¼‰ æ˜¯Java IOä¸­ä¸€ç§å¤„ç†æµï¼ˆProcessing Streamï¼‰ï¼Œå®ƒåœ¨åº•å±‚èŠ‚ç‚¹æµï¼ˆå¦‚æ–‡ä»¶æµã€ç½‘ç»œæµï¼‰çš„åŸºç¡€ä¸Šï¼Œå¢åŠ å†…å­˜ç¼“å†²åŒºï¼Œé€šè¿‡æ‰¹é‡è¯»å†™æ•°æ®æ˜¾è‘—æå‡IOæ•ˆç‡ã€‚
ç¼“å†²æµçš„æ ¸å¿ƒä½œç”¨ 1. å‡å°‘ç‰©ç†IOæ¬¡æ•° è¿™æ˜¯ç¼“å†²æµæœ€é‡è¦çš„ä½œç”¨ã€‚è®©æˆ‘ä»¬é€šè¿‡å¯¹æ¯”æ¥ç†è§£ï¼š
æ— ç¼“å†²æµçš„é—®é¢˜ // æ¯æ¬¡è¯»å–1å­—èŠ‚ï¼ˆæ€§èƒ½æå·®ï¼‰ try (FileInputStream fis = new FileInputStream(&#34;largefile.bin&#34;)) { int data; while ((data = fis.read()) != -1) { // æ¯è¯»1å­—èŠ‚è§¦å‘ä¸€æ¬¡ç£ç›˜IOæ“ä½œ // è¯»å–1GBæ–‡ä»¶éœ€è¦çº¦10äº¿æ¬¡ç£ç›˜è®¿é—® } } ä½¿ç”¨ç¼“å†²æµçš„ä¼˜åŠ¿ // é»˜è®¤ç¼“å†²åŒº8KBï¼ˆä¸€æ¬¡æ€§è¯»å–8KBåˆ°å†…å­˜ï¼‰ try (BufferedInputStream bis = new BufferedInputStream( new FileInputStream(&#34;largefile.bin&#34;))) { int data; while ((data = bis.read()) != -1) { // ä»å†…å­˜ç¼“å†²åŒºè¯»å–ï¼Œç¼“å†²åŒºç©ºäº†æ‰ä¼šè§¦å‘ç£ç›˜IO // è¯»å–1GBæ–‡ä»¶åªéœ€è¦çº¦128,000æ¬¡ç£ç›˜è®¿é—® } } 2. æ€§èƒ½å¯¹æ¯”æ•°æ® åœºæ™¯ ç‰©ç†IOæ¬¡æ•° è€—æ—¶ æ€§èƒ½æå‡ è¯»å–1GBæ–‡ä»¶ï¼ˆæ— ç¼“å†²ï¼‰ çº¦10äº¿æ¬¡æ“ä½œ &gt;60ç§’ - è¯»å–1GBæ–‡ä»¶ï¼ˆ8KBç¼“å†²ï¼‰ çº¦128,000æ¬¡æ“ä½œ &lt;1ç§’ 60å€ä»¥ä¸Š è¯»å–1GBæ–‡ä»¶ï¼ˆ64KBç¼“å†²ï¼‰ çº¦16,000æ¬¡æ“ä½œ &lt;0.5ç§’ 120å€ä»¥ä¸Š Javaä¸­çš„ç¼“å†²æµç±»å‹ ç¼“å†²æµå®¶æ— ç±»å‹ å¯¹åº”èŠ‚ç‚¹æµ åŠŸèƒ½è¯´æ˜ é»˜è®¤ç¼“å†²åŒºå¤§å° BufferedInputStream FileInputStream å­—èŠ‚è¾“å…¥ç¼“å†²æµ 8KB BufferedOutputStream FileOutputStream å­—èŠ‚è¾“å‡ºç¼“å†²æµ 8KB BufferedReader FileReader å­—ç¬¦è¾“å…¥ç¼“å†²æµï¼ˆæ”¯æŒæŒ‰è¡Œè¯»ï¼‰ 8KB BufferedWriter FileWriter å­—ç¬¦è¾“å‡ºç¼“å†²æµ 8KB ç¼“å†²æµçš„åº•å±‚åŸç† 1. è¯»å–ç¼“å†²æœºåˆ¶ public class BufferedInputStreamDemo { public static void demonstrateBuffering() { try (BufferedInputStream bis = new BufferedInputStream( new FileInputStream(&#34;data.txt&#34;), 1024)) { // 1KBç¼“å†²åŒº // å·¥ä½œæµç¨‹ï¼š // 1. åˆå§‹åŒ–ï¼šåˆ›å»º1KBç¼“å†²åŒº // 2. é¦–æ¬¡è¯»å–ï¼šä¸€æ¬¡æ€§ä»ç£ç›˜è¯»å–1KBæ•°æ®åˆ°ç¼“å†²åŒº // 3. åç»­è¯»å–ï¼šç›´æ¥ä»ç¼“å†²åŒºè¿”å›æ•°æ®ï¼ˆä¸è§¦å‘ç£ç›˜IOï¼‰ // 4. ç¼“å†²åŒºè€—å°½ï¼šå†æ¬¡è‡ªåŠ¨è¯»å–ä¸‹ä¸€æ‰¹1KBæ•°æ® int data; while ((data = bis.read()) != -1) { // è¿™é‡Œçš„read()å¤§éƒ¨åˆ†æ—¶å€™æ˜¯ä»å†…å­˜ç¼“å†²åŒºè¯»å– System.out.print((char) data); } } catch (IOException e) { e.printStackTrace(); } } } 2. å†™å…¥ç¼“å†²æœºåˆ¶ public class BufferedOutputStreamDemo { public static void demonstrateBuffering() { try (BufferedOutputStream bos = new BufferedOutputStream( new FileOutputStream(&#34;output.txt&#34;), 1024)) { // 1KBç¼“å†²åŒº // å·¥ä½œæµç¨‹ï¼š String data = &#34;Hello, Buffered Stream!&#34;; for (char c : data.toCharArray()) { bos.write(c); // æ•°æ®å…ˆå†™å…¥ç¼“å†²åŒºï¼ˆä¸ç«‹å³å†™å…¥ç£ç›˜ï¼‰ } // ç¼“å†²åŒºæ»¡æ—¶ï¼šè‡ªåŠ¨å°†ç¼“å†²åŒºå†…å®¹å†™å…¥ç£ç›˜ // æ‰‹åŠ¨åˆ·æ–°ï¼šé€šè¿‡flush()å¼ºåˆ¶ç«‹å³å†™å…¥ bos.flush(); // å…³é—­æµæ—¶ï¼šè‡ªåŠ¨åˆ·æ–°ç¼“å†²åŒº } catch (IOException e) { e.printStackTrace(); } } } ç¼“å†²æµçš„ä½¿ç”¨æ–¹æ³• 1. å­—èŠ‚ç¼“å†²æµåŸºç¡€ç”¨æ³• public class ByteBufferedStreamExample { /** * ä½¿ç”¨ç¼“å†²æµå¤åˆ¶æ–‡ä»¶ */ public static void copyFileWithBuffer(String sourcePath, String targetPath) { try ( // åˆ›å»ºè¾“å…¥ç¼“å†²æµ FileInputStream fis = new FileInputStream(sourcePath); BufferedInputStream bis = new BufferedInputStream(fis, 16384); // 16KBç¼“å†²åŒº // åˆ›å»ºè¾“å‡ºç¼“å†²æµ FileOutputStream fos = new FileOutputStream(targetPath); BufferedOutputStream bos = new BufferedOutputStream(fos, 16384) ) { byte[] buffer = new byte[1024]; // é¢å¤–çš„è¯»å–ç¼“å†²åŒº int bytesRead; while ((bytesRead = bis.read(buffer)) != -1) { bos.write(buffer, 0, bytesRead); } // ç¡®ä¿æ‰€æœ‰æ•°æ®éƒ½å†™å…¥ç£ç›˜ bos.flush(); } catch (IOException e) { System.err.println(&#34;æ–‡ä»¶å¤åˆ¶å¤±è´¥: &#34; &#43; e.getMessage()); } } /** * æ€§èƒ½æµ‹è¯•ï¼šå¯¹æ¯”æœ‰æ— ç¼“å†²æµçš„æ€§èƒ½å·®å¼‚ */ public static void performanceTest(String filePath) { // æµ‹è¯•æ— ç¼“å†²æµ long startTime = System.currentTimeMillis(); try (FileInputStream fis = new FileInputStream(filePath)) { while (fis.read() != -1) { // é€å­—èŠ‚è¯»å– } } catch (IOException e) { e.printStackTrace(); } long unbufferedTime = System.currentTimeMillis() - startTime; // æµ‹è¯•ç¼“å†²æµ startTime = System.currentTimeMillis(); try (BufferedInputStream bis = new BufferedInputStream( new FileInputStream(filePath))) { while (bis.read() != -1) { // é€å­—èŠ‚è¯»å–ï¼ˆä½†æœ‰ç¼“å†²ï¼‰ } } catch (IOException e) { e.printStackTrace(); } long bufferedTime = System.currentTimeMillis() - startTime; System.out.println(&#34;æ— ç¼“å†²æµè€—æ—¶: &#34; &#43; unbufferedTime &#43; &#34;ms&#34;); System.out.println(&#34;ç¼“å†²æµè€—æ—¶: &#34; &#43; bufferedTime &#43; &#34;ms&#34;); System.out.println(&#34;æ€§èƒ½æå‡: &#34; &#43; (unbufferedTime / (double) bufferedTime) &#43; &#34;å€&#34;); } } 2. å­—ç¬¦ç¼“å†²æµé«˜çº§åŠŸèƒ½ public class CharBufferedStreamExample { /** * ä½¿ç”¨BufferedReaderæŒ‰è¡Œè¯»å–æ–‡æœ¬æ–‡ä»¶ */ public static void readFileByLines(String filePath) { try ( FileReader fr = new FileReader(filePath); BufferedReader br = new BufferedReader(fr, 8192) // 8KBç¼“å†²åŒº ) { String line; int lineNumber = 1; // æŒ‰è¡Œè¯»å–ï¼Œè¿™æ˜¯BufferedReaderçš„ç‰¹è‰²åŠŸèƒ½ while ((line = br.readLine()) != null) { System.out.println(lineNumber &#43; &#34;: &#34; &#43; line); lineNumber&#43;&#43;; } } catch (IOException e) { System.err.println(&#34;è¯»å–æ–‡ä»¶å¤±è´¥: &#34; &#43; e.getMessage()); } } /** * ä½¿ç”¨BufferedWriterå†™å…¥æ–‡æœ¬æ–‡ä»¶ */ public static void writeFileWithBuffer(String filePath, List&lt;String&gt; lines) { try ( FileWriter fw = new FileWriter(filePath); BufferedWriter bw = new BufferedWriter(fw, 8192) ) { for (String line : lines) { bw.write(line); bw.newLine(); // å†™å…¥ç³»ç»Ÿç›¸å…³çš„è¡Œåˆ†éš”ç¬¦ } // æ‰‹åŠ¨åˆ·æ–°ç¡®ä¿æ•°æ®å†™å…¥ bw.flush(); } catch (IOException e) { System.err.println(&#34;å†™å…¥æ–‡ä»¶å¤±è´¥: &#34; &#43; e.getMessage()); } } /** * å¤„ç†å¤§æ–‡ä»¶çš„æµå¼è¯»å– */ public static void processLargeFile(String filePath) { try ( FileReader fr = new FileReader(filePath); BufferedReader br = new BufferedReader(fr, 65536) // 64KBç¼“å†²åŒº ) { String line; long lineCount = 0; long totalChars = 0; while ((line = br.readLine()) != null) { lineCount&#43;&#43;; totalChars &#43;= line.length(); // æ¯å¤„ç†10000è¡Œè¾“å‡ºä¸€æ¬¡è¿›åº¦ if (lineCount % 10000 == 0) { System.out.println(&#34;å·²å¤„ç† &#34; &#43; lineCount &#43; &#34; è¡Œ&#34;); } // è¿™é‡Œå¯ä»¥æ·»åŠ å…·ä½“çš„ä¸šåŠ¡é€»è¾‘ processLine(line); } System.out.println(&#34;æ–‡ä»¶å¤„ç†å®Œæˆ:&#34;); System.out.println(&#34;æ€»è¡Œæ•°: &#34; &#43; lineCount); System.out.println(&#34;æ€»å­—ç¬¦æ•°: &#34; &#43; totalChars); } catch (IOException e) { System.err.println(&#34;å¤„ç†æ–‡ä»¶å¤±è´¥: &#34; &#43; e.getMessage()); } } private static void processLine(String line) { // å…·ä½“çš„è¡Œå¤„ç†é€»è¾‘ // ä¾‹å¦‚ï¼šæ•°æ®æ¸…æ´—ã€æ ¼å¼è½¬æ¢ã€ç»Ÿè®¡åˆ†æç­‰ } } 3. è‡ªå®šä¹‰ç¼“å†²åŒºå¤§å° public class CustomBufferSizeExample { /** * æ ¹æ®æ–‡ä»¶å¤§å°åŠ¨æ€è°ƒæ•´ç¼“å†²åŒºå¤§å° */ public static void copyWithOptimalBuffer(String sourcePath, String targetPath) { File sourceFile = new File(sourcePath); long fileSize = sourceFile.length(); // æ ¹æ®æ–‡ä»¶å¤§å°é€‰æ‹©åˆé€‚çš„ç¼“å†²åŒºå¤§å° int bufferSize; if (fileSize &lt; 1024 * 1024) { // å°äº1MB bufferSize = 4096; // 4KBç¼“å†²åŒº } else if (fileSize &lt; 100 * 1024 * 1024) { // å°äº100MB bufferSize = 65536; // 64KBç¼“å†²åŒº } else { // å¤§äº100MB bufferSize = 1024 * 1024; // 1MBç¼“å†²åŒº } try ( BufferedInputStream bis = new BufferedInputStream( new FileInputStream(sourcePath), bufferSize); BufferedOutputStream bos = new BufferedOutputStream( new FileOutputStream(targetPath), bufferSize) ) { byte[] buffer = new byte[bufferSize / 4]; // è¯»å–ç¼“å†²åŒºä¸ºç¼“å†²æµçš„1/4 int bytesRead; while ((bytesRead = bis.read(buffer)) != -1) { bos.write(buffer, 0, bytesRead); } } catch (IOException e) { System.err.println(&#34;æ–‡ä»¶å¤åˆ¶å¤±è´¥: &#34; &#43; e.getMessage()); } } } ç¼“å†²æµçš„æ³¨æ„äº‹é¡¹å’Œæœ€ä½³å®è·µ 1. ç¼“å†²åŒºå¤§å°é€‰æ‹© public class BufferSizeOptimization { /** * æµ‹è¯•ä¸åŒç¼“å†²åŒºå¤§å°çš„æ€§èƒ½ */ public static void testBufferSizes(String filePath) { int[] bufferSizes = {1024, 4096, 8192, 16384, 32768, 65536}; for (int bufferSize : bufferSizes) { long startTime = System.currentTimeMillis(); try (BufferedInputStream bis = new BufferedInputStream( new FileInputStream(filePath), bufferSize)) { byte[] buffer = new byte[1024]; while (bis.read(buffer) != -1) { // è¯»å–æ•°æ® } } catch (IOException e) { e.printStackTrace(); } long endTime = System.currentTimeMillis(); System.out.println(&#34;ç¼“å†²åŒºå¤§å° &#34; &#43; bufferSize &#43; &#34; å­—èŠ‚ï¼Œè€—æ—¶: &#34; &#43; (endTime - startTime) &#43; &#34;ms&#34;); } } } 2. æ­£ç¡®çš„èµ„æºç®¡ç† public class ResourceManagementExample { /** * æ­£ç¡®çš„èµ„æºç®¡ç†æ–¹å¼ */ public static void correctResourceManagement(String inputPath, String outputPath) { // ä½¿ç”¨try-with-resourcesç¡®ä¿èµ„æºæ­£ç¡®å…³é—­ try ( // åªéœ€è¦å…³é—­æœ€å¤–å±‚çš„ç¼“å†²æµï¼Œå†…éƒ¨çš„èŠ‚ç‚¹æµä¼šè‡ªåŠ¨å…³é—­ BufferedReader reader = new BufferedReader( new FileReader(inputPath), 16384); BufferedWriter writer = new BufferedWriter( new FileWriter(outputPath), 16384) ) { String line; while ((line = reader.readLine()) != null) { writer.write(line); writer.newLine(); } // å†™å…¥æµéœ€è¦æ‰‹åŠ¨flushç¡®ä¿æ•°æ®å®Œå…¨å†™å…¥ writer.flush(); } catch (IOException e) { System.err.println(&#34;æ–‡ä»¶æ“ä½œå¤±è´¥: &#34; &#43; e.getMessage()); } // èµ„æºä¼šåœ¨è¿™é‡Œè‡ªåŠ¨å…³é—­ } /** * é”™è¯¯çš„èµ„æºç®¡ç†æ–¹å¼ï¼ˆä»…ä½œç¤ºä¾‹ï¼Œä¸è¦è¿™æ ·åšï¼‰ */ public static void incorrectResourceManagement(String inputPath, String outputPath) { BufferedReader reader = null; BufferedWriter writer = null; try { reader = new BufferedReader(new FileReader(inputPath)); writer = new BufferedWriter(new FileWriter(outputPath)); String line; while ((line = reader.readLine()) != null) { writer.write(line); writer.newLine(); } } catch (IOException e) { e.printStackTrace(); } finally { // æ‰‹åŠ¨å…³é—­èµ„æºï¼Œå®¹æ˜“å‡ºé”™ try { if (reader != null) reader.close(); if (writer != null) writer.close(); } catch (IOException e) { e.printStackTrace(); } } } } 3. å¼ºåˆ¶åˆ·æ–°ç¼“å†²åŒº public class FlushExample { /** * æ¼”ç¤ºä½•æ—¶éœ€è¦æ‰‹åŠ¨åˆ·æ–°ç¼“å†²åŒº */ public static void demonstrateFlush(String logPath) { try (BufferedWriter logWriter = new BufferedWriter( new FileWriter(logPath, true))) { // è¿½åŠ æ¨¡å¼ // å†™å…¥æ—¥å¿— logWriter.write(&#34;[&#34; &#43; new Date() &#43; &#34;] åº”ç”¨å¯åŠ¨&#34;); logWriter.newLine(); // é‡è¦ï¼šç«‹å³åˆ·æ–°ç¡®ä¿æ—¥å¿—å†™å…¥ç£ç›˜ // å¦‚æœç¨‹åºå´©æºƒï¼Œæ²¡æœ‰flushçš„æ•°æ®å¯èƒ½ä¸¢å¤± logWriter.flush(); // æ¨¡æ‹Ÿä¸€äº›æ“ä½œ Thread.sleep(1000); logWriter.write(&#34;[&#34; &#43; new Date() &#43; &#34;] å¤„ç†ç”¨æˆ·è¯·æ±‚&#34;); logWriter.newLine(); logWriter.flush(); // å†æ¬¡åˆ·æ–° } catch (IOException | InterruptedException e) { e.printStackTrace(); } } /** * æ‰¹é‡å†™å…¥æ—¶çš„åˆ·æ–°ç­–ç•¥ */ public static void batchWriteWithFlush(String outputPath, List&lt;String&gt; data) { try (BufferedWriter writer = new BufferedWriter( new FileWriter(outputPath), 32768)) { // 32KBç¼“å†²åŒº int count = 0; for (String item : data) { writer.write(item); writer.newLine(); count&#43;&#43;; // æ¯å†™å…¥1000æ¡è®°å½•å°±åˆ·æ–°ä¸€æ¬¡ if (count % 1000 == 0) { writer.flush(); System.out.println(&#34;å·²å†™å…¥ &#34; &#43; count &#43; &#34; æ¡è®°å½•&#34;); } } // æœ€åç¡®ä¿æ‰€æœ‰æ•°æ®éƒ½å†™å…¥ writer.flush(); } catch (IOException e) { e.printStackTrace(); } } } å®é™…åº”ç”¨åœºæ™¯ 1. æ—¥å¿—æ–‡ä»¶å¤„ç† public class LogFileProcessor { /** * åˆ†æå¤§å‹æ—¥å¿—æ–‡ä»¶ */ public static void analyzeLogFile(String logPath) { Map&lt;String, Integer&gt; errorCounts = new HashMap&lt;&gt;(); try (BufferedReader reader = new BufferedReader( new FileReader(logPath), 65536)) { // 64KBç¼“å†²åŒº String line; while ((line = reader.readLine()) != null) { if (line.contains(&#34;ERROR&#34;)) { // æå–é”™è¯¯ç±»å‹ String errorType = extractErrorType(line); errorCounts.merge(errorType, 1, Integer::sum); } } } catch (IOException e) { e.printStackTrace(); } // è¾“å‡ºç»Ÿè®¡ç»“æœ errorCounts.forEach((error, count) -&gt; System.out.println(error &#43; &#34;: &#34; &#43; count &#43; &#34; æ¬¡&#34;)); } private static String extractErrorType(String logLine) { // ç®€å•çš„é”™è¯¯ç±»å‹æå–é€»è¾‘ if (logLine.contains(&#34;NullPointerException&#34;)) { return &#34;NullPointerException&#34;; } else if (logLine.contains(&#34;SQLException&#34;)) { return &#34;SQLException&#34;; } else { return &#34;Other&#34;; } } } 2. æ•°æ®æ–‡ä»¶è½¬æ¢ public class DataFileConverter { /** * CSVæ–‡ä»¶æ ¼å¼è½¬æ¢ */ public static void convertCsvFormat(String inputPath, String outputPath) { try ( BufferedReader reader = new BufferedReader( new FileReader(inputPath), 32768); BufferedWriter writer = new BufferedWriter( new FileWriter(outputPath), 32768) ) { String line; boolean isFirstLine = true; while ((line = reader.readLine()) != null) { if (isFirstLine) { // å¤„ç†è¡¨å¤´ writer.write(convertHeader(line)); isFirstLine = false; } else { // å¤„ç†æ•°æ®è¡Œ writer.write(convertDataLine(line)); } writer.newLine(); } } catch (IOException e) { e.printStackTrace(); } } private static String convertHeader(String header) { // è¡¨å¤´è½¬æ¢é€»è¾‘ return header.replace(&#34;,&#34;, &#34;\t&#34;); // CSVè½¬TSV } private static String convertDataLine(String dataLine) { // æ•°æ®è¡Œè½¬æ¢é€»è¾‘ return dataLine.replace(&#34;,&#34;, &#34;\t&#34;); // CSVè½¬TSV } } æ€§èƒ½ä¼˜åŒ–å»ºè®® 1. ç¼“å†²åŒºå¤§å°ä¼˜åŒ–æŒ‡å— æ–‡ä»¶å¤§å° æ¨èç¼“å†²åŒºå¤§å° è¯´æ˜ &lt; 1MB 4KB - 8KB å°æ–‡ä»¶ä¸éœ€è¦å¤ªå¤§ç¼“å†²åŒº 1MB - 100MB 16KB - 64KB å¹³è¡¡å†…å­˜ä½¿ç”¨å’Œæ€§èƒ½ &gt; 100MB 64KB - 1MB å¤§æ–‡ä»¶å¯ä»¥ä½¿ç”¨æ›´å¤§ç¼“å†²åŒº ç½‘ç»œæµ 8KB - 32KB è€ƒè™‘ç½‘ç»œå»¶è¿Ÿå’Œå¸¦å®½ 2. é€‰æ‹©åˆé€‚çš„ç¼“å†²æµç±»å‹ public class StreamTypeSelection { /** * æ ¹æ®ä½¿ç”¨åœºæ™¯é€‰æ‹©åˆé€‚çš„æµç±»å‹ */ public static void chooseAppropriateStream() { // åœºæ™¯1ï¼šå¤„ç†äºŒè¿›åˆ¶æ–‡ä»¶ï¼ˆå›¾ç‰‡ã€è§†é¢‘ã€å‹ç¼©åŒ…ç­‰ï¼‰ // ä½¿ç”¨å­—èŠ‚ç¼“å†²æµ try (BufferedInputStream bis = new BufferedInputStream( new FileInputStream(&#34;image.jpg&#34;), 32768)) { // å¤„ç†äºŒè¿›åˆ¶æ•°æ® } catch (IOException e) { e.printStackTrace(); } // åœºæ™¯2ï¼šå¤„ç†æ–‡æœ¬æ–‡ä»¶ï¼Œéœ€è¦æŒ‰è¡Œè¯»å– // ä½¿ç”¨å­—ç¬¦ç¼“å†²æµ try (BufferedReader reader = new BufferedReader( new FileReader(&#34;data.txt&#34;), 16384)) { String line; while ((line = reader.readLine()) != null) { // æŒ‰è¡Œå¤„ç†æ–‡æœ¬ } } catch (IOException e) { e.printStackTrace(); } // åœºæ™¯3ï¼šç½‘ç»œæ•°æ®ä¼ è¾“ // ä½¿ç”¨è¾ƒå°çš„ç¼“å†²åŒºï¼ŒåŠæ—¶å“åº” try (BufferedOutputStream bos = new BufferedOutputStream( socket.getOutputStream(), 8192)) { // ç½‘ç»œæ•°æ®ä¼ è¾“ } catch (IOException e) { e.printStackTrace(); } } } æ€»ç»“ ç¼“å†²æµçš„æ ¸å¿ƒä»·å€¼ æ€§èƒ½æå‡ï¼šé€šè¿‡å†…å­˜ç¼“å†²åŒºå‡å°‘ç‰©ç†IOæ¬¡æ•°ï¼Œæ˜¾è‘—æå‡è¯»å†™æ€§èƒ½ ä½¿ç”¨ç®€å•ï¼šåªéœ€è¦åŒ…è£…ç°æœ‰çš„èŠ‚ç‚¹æµï¼ŒAPIä½¿ç”¨æ–¹å¼åŸºæœ¬ä¸å˜ é€‚ç”¨å¹¿æ³›ï¼šæ–‡ä»¶æ“ä½œã€ç½‘ç»œä¼ è¾“ã€æ—¥å¿—å¤„ç†ç­‰IOå¯†é›†å‹åœºæ™¯ æœ€ä½³å®è·µè¦ç‚¹ å§‹ç»ˆä¼˜å…ˆä½¿ç”¨ç¼“å†²æµï¼šé™¤éæœ‰ç‰¹æ®Šéœ€æ±‚ï¼Œå¦åˆ™æ€»æ˜¯ç”¨ç¼“å†²æµåŒ…è£…èŠ‚ç‚¹æµ åˆç†è®¾ç½®ç¼“å†²åŒºå¤§å°ï¼šæ ¹æ®æ–‡ä»¶å¤§å°å’Œä½¿ç”¨åœºæ™¯é€‰æ‹©åˆé€‚çš„ç¼“å†²åŒºå¤§å° æ­£ç¡®ç®¡ç†èµ„æºï¼šä½¿ç”¨try-with-resourcesç¡®ä¿æµæ­£ç¡®å…³é—­ åŠæ—¶åˆ·æ–°ç¼“å†²åŒºï¼šå¯¹äºé‡è¦æ•°æ®ï¼ŒåŠæ—¶è°ƒç”¨flush()ç¡®ä¿æ•°æ®å†™å…¥ é€‰æ‹©åˆé€‚çš„æµç±»å‹ï¼šæ ¹æ®æ•°æ®ç±»å‹é€‰æ‹©å­—èŠ‚æµæˆ–å­—ç¬¦æµ æ€§èƒ½ä¼˜åŒ–å»ºè®® å¯¹äºå¤§æ–‡ä»¶æ“ä½œï¼Œç¼“å†²æµèƒ½å¸¦æ¥æ•°åå€ç”šè‡³ä¸Šç™¾å€çš„æ€§èƒ½æå‡ åˆç†çš„ç¼“å†²åŒºå¤§å°é€šå¸¸åœ¨8KBåˆ°64KBä¹‹é—´ ç»“åˆå…·ä½“çš„ç¡¬ä»¶ç¯å¢ƒï¼ˆSSD vs HDDï¼‰å’Œç½‘ç»œæ¡ä»¶è¿›è¡Œè°ƒä¼˜ æŒæ¡ç¼“å†²æµçš„ä½¿ç”¨æ˜¯Java IOç¼–ç¨‹çš„åŸºç¡€æŠ€èƒ½ï¼Œå®ƒä¸ä»…èƒ½æ˜¾è‘—æå‡ç¨‹åºæ€§èƒ½ï¼Œè¿˜èƒ½è®©ä»£ç æ›´åŠ ç®€æ´å’Œå¯ç»´æŠ¤ã€‚
...</p>
  </div>
  <footer class="entry-footer"><span title='2024-03-20 16:45:00 +0800 CST'>March 20, 2024</span>&nbsp;Â·&nbsp;7 min&nbsp;Â·&nbsp;tyhzxh</footer>
  <a class="entry-link" aria-label="post link to Javaç¼“å†²æµè¯¦è§£ï¼šæå‡IOæ€§èƒ½çš„å…³é”®æŠ€æœ¯" href="https://tyhzxh.github.io/posts/java-buffered-streams/"></a>
</article>

<article class="post-entry tag-entry"> 
<figure class="entry-cover">
        <img loading="lazy" src="https://images.unsplash.com/photo-1517077304055-6e89abbf09b0?w=800&amp;h=400&amp;fit=crop" alt="Javaç±»è®¾è®¡">
</figure>
  <header class="entry-header">
    <h2 class="entry-hint-parent">Javaç±»è®¾è®¡è¯¦è§£ï¼šEntityç±»ä¸JavaBeanè§„èŒƒ
    </h2>
  </header>
  <div class="entry-content">
    <p>Javaç±»è®¾è®¡æ¦‚è¿° åœ¨Javaå¼€å‘ä¸­ï¼Œè‰¯å¥½çš„ç±»è®¾è®¡æ˜¯æ„å»ºå¯ç»´æŠ¤ã€å¯æ‰©å±•åº”ç”¨ç¨‹åºçš„åŸºç¡€ã€‚æœ¬æ–‡å°†è¯¦ç»†ä»‹ç»ä¸¤ç§é‡è¦çš„ç±»è®¾è®¡æ¨¡å¼ï¼šEntityç±»ï¼ˆå®ä½“ç±»ï¼‰å’ŒJavaBeanï¼Œä»¥åŠå®ƒä»¬åœ¨å®é™…å¼€å‘ä¸­çš„åº”ç”¨ã€‚
Entity Classï¼ˆå®ä½“ç±»ï¼‰ ä»€ä¹ˆæ˜¯å®ä½“ç±»ï¼Ÿ å®ä½“ç±»ï¼ˆEntity Classï¼‰ æ˜¯ä¸€ç§ç‰¹æ®Šçš„ç±»ï¼Œä¸»è¦ç”¨äºè¡¨ç¤ºä¸šåŠ¡é¢†åŸŸä¸­çš„å…·ä½“å¯¹è±¡ï¼ˆå¦‚ç”¨æˆ·ã€è®¢å•ã€å•†å“ç­‰ï¼‰ï¼Œå¹¶æ‰¿è½½ä¸è¿™äº›å¯¹è±¡ç›¸å…³çš„æ•°æ®ã€‚å®ƒçš„æ ¸å¿ƒç‰¹å¾æ˜¯ï¼šç”¨å±æ€§æè¿°å¯¹è±¡ç‰¹å¾ï¼Œç”¨æ–¹æ³•å®šä¹‰ç®€å•è¡Œä¸ºã€‚
å®ä½“ç±»ç¤ºä¾‹ ä»¥RPCç¤ºä¾‹ä¸­çš„Userç±»ä¸ºä¾‹ï¼š
import lombok.Data; import java.io.Serializable; @Data // Lombokæ³¨è§£ï¼Œè‡ªåŠ¨ç”Ÿæˆgetter/setter/toStringç­‰æ–¹æ³• public class User implements Serializable { private static final long serialVersionUID = 1L; private int id; // ç”¨æˆ·ID private String name; // ç”¨æˆ·å private String email; // é‚®ç®± private int age; // å¹´é¾„ // æ— å‚æ„é€ å™¨ï¼ˆåºåˆ—åŒ–/ååºåˆ—åŒ–æ—¶éœ€è¦ï¼‰ public User() {} // å…¨å‚æ„é€ å™¨ï¼ˆæ–¹ä¾¿åˆ›å»ºå¯¹è±¡ï¼‰ public User(int id, String name, String email, int age) { this.id = id; this.name = name; this.email = email; this.age = age; } // éƒ¨åˆ†å‚æ•°æ„é€ å™¨ public User(int id, String name) { this.id = id; this.name = name; } } ä¸ºä»€ä¹ˆéœ€è¦å®ä½“ç±»ï¼Ÿ 1. æ•°æ®å°è£… å°†ç›¸å…³å±æ€§ï¼ˆå¦‚idã€nameã€emailï¼‰èšåˆåœ¨ä¸€èµ·ï¼Œå½¢æˆæœ‰ä¸šåŠ¡æ„ä¹‰çš„å¯¹è±¡ æä¾›ç»Ÿä¸€çš„æ•°æ®è®¿é—®æ¥å£ éšè—å†…éƒ¨å®ç°ç»†èŠ‚ // å¥½çš„è®¾è®¡ï¼šä½¿ç”¨å®ä½“ç±» User user = new User(1, &#34;å¼ ä¸‰&#34;, &#34;zhangsan@example.com&#34;, 25); userService.saveUser(user); // ä¸å¥½çš„è®¾è®¡ï¼šåˆ†æ•£çš„å‚æ•° userService.saveUser(1, &#34;å¼ ä¸‰&#34;, &#34;zhangsan@example.com&#34;, 25); 2. è·¨å±‚ä¼ è¾“ åœ¨RPCè°ƒç”¨ä¸­ï¼Œå®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯éœ€è¦é€šè¿‡ç½‘ç»œä¼ è¾“å¯¹è±¡ å®ä½“ç±»ä¼šè¢«åºåˆ—åŒ–ä¸ºå­—èŠ‚æµä¼ è¾“ï¼Œæ¥æ”¶æ–¹å†ååºåˆ—åŒ–è¿˜åŸå¯¹è±¡ æä¾›ç»Ÿä¸€çš„æ•°æ®ä¼ è¾“æ ¼å¼ // RPCæœåŠ¡æ¥å£ public interface UserService { User getUserById(int id); // è¿”å›å®ä½“ç±» List&lt;User&gt; getAllUsers(); // è¿”å›å®ä½“ç±»åˆ—è¡¨ boolean saveUser(User user); // æ¥æ”¶å®ä½“ç±»å‚æ•° } 3. æ¥å£å¥‘çº¦ å®šä¹‰æ˜ç¡®çš„å‚æ•°å’Œè¿”å›å€¼ç±»å‹ æä¾›ç±»å‹å®‰å…¨ä¿éšœ ä¾¿äºAPIæ–‡æ¡£ç”Ÿæˆå’Œç»´æŠ¤ å®ä½“ç±»çš„è®¾è®¡è§„èŒƒ ç‰¹æ€§ è¯´æ˜ ç¤ºä¾‹ å®ç°Serializable å¿…é¡»å®ç°åºåˆ—åŒ–æ¥å£ï¼Œå¦åˆ™æ— æ³•è·¨ç½‘ç»œä¼ è¾“ implements Serializable æ— å‚æ„é€ å™¨ åå°„å’Œååºåˆ—åŒ–æ—¶éœ€è¦é»˜è®¤æ„é€ å™¨ public User() {} å±æ€§ç§æœ‰åŒ– é€šè¿‡getter/setterè®¿é—®å±æ€§ï¼Œä¿è¯å°è£…æ€§ private String name; é¿å…ä¸šåŠ¡é€»è¾‘ å®ä½“ç±»åº”åªåŒ…å«æ•°æ®ï¼Œä¸åŒ…å«å¤æ‚ä¸šåŠ¡æ–¹æ³• åªæœ‰ç®€å•çš„getter/setter ä½¿ç”¨Lombok æ¨èç”¨@Dataè‡ªåŠ¨ç”Ÿæˆgetter/setterï¼Œå‡å°‘æ ·æ¿ä»£ç  @Data åºåˆ—åŒ–ç‰ˆæœ¬å· æ·»åŠ serialVersionUIDç¡®ä¿åºåˆ—åŒ–å…¼å®¹æ€§ private static final long serialVersionUID = 1L; JavaBeanè§„èŒƒ ä»€ä¹ˆæ˜¯JavaBeanï¼Ÿ JavaBeanæ˜¯ç¬¦åˆç‰¹å®šè§„èŒƒçš„Javaç±»ï¼Œç”¨äºå°è£…æ•°æ®å’Œå®šä¹‰å¯é‡ç”¨ç»„ä»¶ã€‚å®ƒæ˜¯Javaå¼€å‘ä¸­çš„ä¸€ç§è®¾è®¡æ ‡å‡†ï¼Œå¹¿æ³›åº”ç”¨äºå„ç§æ¡†æ¶å’Œå·¥å…·ä¸­ã€‚
...</p>
  </div>
  <footer class="entry-footer"><span title='2024-03-15 14:30:00 +0800 CST'>March 15, 2024</span>&nbsp;Â·&nbsp;4 min&nbsp;Â·&nbsp;tyhzxh</footer>
  <a class="entry-link" aria-label="post link to Javaç±»è®¾è®¡è¯¦è§£ï¼šEntityç±»ä¸JavaBeanè§„èŒƒ" href="https://tyhzxh.github.io/posts/java-classes-and-beans/"></a>
</article>

<article class="post-entry tag-entry"> 
<figure class="entry-cover">
        <img loading="lazy" src="https://images.unsplash.com/photo-1517077304055-6e89abbf09b0?w=800&amp;h=400&amp;fit=crop" alt="Javaæ¥å£ä¸é¢å‘å¯¹è±¡ç¼–ç¨‹">
</figure>
  <header class="entry-header">
    <h2 class="entry-hint-parent">Javaæ¥å£è¯¦è§£ï¼šä»åŸºç¡€æ¦‚å¿µåˆ°é«˜çº§åº”ç”¨
    </h2>
  </header>
  <div class="entry-content">
    <p>Javaæ¥å£æ¦‚è¿° **æ¥å£ï¼ˆInterfaceï¼‰**æ˜¯Javaä¸­å®ç°å¤šé‡ç»§æ‰¿å’Œå®šä¹‰å¥‘çº¦çš„é‡è¦æœºåˆ¶ã€‚æ¥å£å®šä¹‰äº†ç±»å¿…é¡»å®ç°çš„æ–¹æ³•ç­¾åï¼Œä½†ä¸æä¾›å…·ä½“å®ç°ï¼ˆé™¤äº†é»˜è®¤æ–¹æ³•å’Œé™æ€æ–¹æ³•ï¼‰ã€‚æ¥å£æ˜¯Javaé¢å‘å¯¹è±¡ç¼–ç¨‹çš„æ ¸å¿ƒæ¦‚å¿µä¹‹ä¸€ã€‚
æ¥å£çš„åŸºæœ¬ç‰¹æ€§ ç‰¹æ€§ æè¿° ç¤ºä¾‹ æŠ½è±¡æ€§ æ¥å£ä¸­çš„æ–¹æ³•é»˜è®¤æ˜¯æŠ½è±¡çš„ void method(); å¤šé‡å®ç° ä¸€ä¸ªç±»å¯ä»¥å®ç°å¤šä¸ªæ¥å£ class A implements B, C å¸¸é‡å®šä¹‰ æ¥å£ä¸­çš„å˜é‡é»˜è®¤æ˜¯å¸¸é‡ int CONSTANT = 10; ç»§æ‰¿å…³ç³» æ¥å£å¯ä»¥ç»§æ‰¿å…¶ä»–æ¥å£ interface A extends B å¤šæ€æ”¯æŒ æ¥å£å¼•ç”¨å¯ä»¥æŒ‡å‘å®ç°ç±»å¯¹è±¡ Interface obj = new Implementation(); æ¥å£çš„åŸºæœ¬è¯­æ³• æ¥å£å®šä¹‰å’Œå®ç° // åŸºæœ¬æ¥å£å®šä¹‰ public interface Drawable { // å¸¸é‡ï¼ˆé»˜è®¤ public static finalï¼‰ String DEFAULT_COLOR = &#34;BLACK&#34;; int MAX_SIZE = 1000; // æŠ½è±¡æ–¹æ³•ï¼ˆé»˜è®¤ public abstractï¼‰ void draw(); void setColor(String color); void resize(int width, int height); // é»˜è®¤æ–¹æ³•ï¼ˆJava 8&#43;ï¼‰ default void reset() { setColor(DEFAULT_COLOR); System.out.println(&#34;å›¾å½¢å·²é‡ç½®ä¸ºé»˜è®¤çŠ¶æ€&#34;); } // é™æ€æ–¹æ³•ï¼ˆJava 8&#43;ï¼‰ static void printInfo() { System.out.println(&#34;è¿™æ˜¯ä¸€ä¸ªå¯ç»˜åˆ¶æ¥å£&#34;); } // ç§æœ‰æ–¹æ³•ï¼ˆJava 9&#43;ï¼‰ private void validateColor(String color) { if (color == null || color.isEmpty()) { throw new IllegalArgumentException(&#34;é¢œè‰²ä¸èƒ½ä¸ºç©º&#34;); } } } // æ¥å£å®ç° public class Circle implements Drawable { private String color; private int radius; public Circle(int radius) { this.radius = radius; this.color = DEFAULT_COLOR; } @Override public void draw() { System.out.println(&#34;ç»˜åˆ¶ä¸€ä¸ª&#34; &#43; color &#43; &#34;çš„åœ†å½¢ï¼ŒåŠå¾„ï¼š&#34; &#43; radius); } @Override public void setColor(String color) { this.color = color; } @Override public void resize(int width, int height) { // å¯¹äºåœ†å½¢ï¼Œä½¿ç”¨è¾ƒå°çš„å€¼ä½œä¸ºåŠå¾„ this.radius = Math.min(width, height) / 2; } // å¯ä»¥é‡å†™é»˜è®¤æ–¹æ³• @Override public void reset() { this.radius = 10; Drawable.super.reset(); // è°ƒç”¨æ¥å£çš„é»˜è®¤å®ç° } } // å¤šæ¥å£å®ç° public interface Movable { void move(int x, int y); void stop(); } public interface Rotatable { void rotate(double angle); } public class Shape implements Drawable, Movable, Rotatable { private String color = Drawable.DEFAULT_COLOR; private int x, y; private double rotation; @Override public void draw() { System.out.println(&#34;ç»˜åˆ¶å½¢çŠ¶åœ¨ä½ç½® (&#34; &#43; x &#43; &#34;, &#34; &#43; y &#43; &#34;)ï¼Œæ—‹è½¬è§’åº¦ï¼š&#34; &#43; rotation); } @Override public void setColor(String color) { this.color = color; } @Override public void resize(int width, int height) { System.out.println(&#34;è°ƒæ•´å¤§å°ä¸ºï¼š&#34; &#43; width &#43; &#34;x&#34; &#43; height); } @Override public void move(int x, int y) { this.x = x; this.y = y; System.out.println(&#34;ç§»åŠ¨åˆ°ä½ç½®ï¼š(&#34; &#43; x &#43; &#34;, &#34; &#43; y &#43; &#34;)&#34;); } @Override public void stop() { System.out.println(&#34;åœæ­¢ç§»åŠ¨&#34;); } @Override public void rotate(double angle) { this.rotation = angle; System.out.println(&#34;æ—‹è½¬è§’åº¦ï¼š&#34; &#43; angle &#43; &#34;åº¦&#34;); } } // ä½¿ç”¨ç¤ºä¾‹ public class InterfaceExample { public static void main(String[] args) { // å¤šæ€ä½¿ç”¨ Drawable drawable = new Circle(5); drawable.draw(); drawable.setColor(&#34;RED&#34;); drawable.draw(); drawable.reset(); // é™æ€æ–¹æ³•è°ƒç”¨ Drawable.printInfo(); // å¤šæ¥å£å®ç° Shape shape = new Shape(); shape.draw(); shape.move(10, 20); shape.rotate(45.0); // æ¥å£å¼•ç”¨ Movable movable = shape; movable.move(30, 40); Rotatable rotatable = shape; rotatable.rotate(90.0); } } æ ‡è®°æ¥å£è¯¦è§£ Serializableæ¥å£ Serializableæ˜¯Javaä¸­æœ€é‡è¦çš„æ ‡è®°æ¥å£ä¹‹ä¸€ï¼Œç”¨äºæ ‡è¯†ç±»çš„å¯¹è±¡å¯ä»¥è¢«åºåˆ—åŒ–ã€‚
...</p>
  </div>
  <footer class="entry-footer"><span title='2024-02-28 15:00:00 +0800 CST'>February 28, 2024</span>&nbsp;Â·&nbsp;16 min&nbsp;Â·&nbsp;tyhzxh</footer>
  <a class="entry-link" aria-label="post link to Javaæ¥å£è¯¦è§£ï¼šä»åŸºç¡€æ¦‚å¿µåˆ°é«˜çº§åº”ç”¨" href="https://tyhzxh.github.io/posts/java-interfaces-guide/"></a>
</article>

<article class="post-entry tag-entry"> 
  <header class="entry-header">
    <h2 class="entry-hint-parent">SpringBoot æ ¸å¿ƒæ¦‚å¿µè¯¦è§£
    </h2>
  </header>
  <div class="entry-content">
    <p> SpringBootæ˜¯Javaæœ€æµè¡Œçš„å¼€å‘æ¡†æ¶ï¼Œå®ƒé€šè¿‡è§£è€¦ä»£ç æ¥æå‡å¯ç»´æŠ¤æ€§å’Œå¯æµ‹è¯•æ€§ã€‚æœ¬æ–‡å°†æ·±å…¥è§£æSpringBootçš„æ ¸å¿ƒæ¦‚å¿µã€‚
æ¡†æ¶æ¦‚è¿° SpringBoot æ˜¯åŸºäºSpringæ¡†æ¶çš„å¿«é€Ÿå¼€å‘è„šæ‰‹æ¶ï¼Œå®ƒç®€åŒ–äº†Springåº”ç”¨çš„é…ç½®å’Œéƒ¨ç½²è¿‡ç¨‹ï¼Œè®©å¼€å‘è€…èƒ½å¤Ÿå¿«é€Ÿæ„å»ºç”Ÿäº§çº§åˆ«çš„åº”ç”¨ç¨‹åºã€‚
ä¸»è¦ä¼˜åŠ¿ ğŸš€ å¿«é€Ÿå¯åŠ¨ï¼šæä¾›å¼€ç®±å³ç”¨çš„é…ç½® ğŸ”§ è‡ªåŠ¨é…ç½®ï¼šæ ¹æ®ä¾èµ–è‡ªåŠ¨é…ç½®åº”ç”¨ ğŸ“¦ å†…åµŒæœåŠ¡å™¨ï¼šæ— éœ€å¤–éƒ¨å®¹å™¨å³å¯è¿è¡Œ ğŸ¯ ç®€åŒ–é…ç½®ï¼šçº¦å®šä¼˜äºé…ç½®çš„ç†å¿µ Spring æ ¸å¿ƒæ¦‚å¿µ Springæ¡†æ¶æœ‰ä¸‰ä¸ªæœ€å…³é”®çš„æ ¸å¿ƒæ¦‚å¿µï¼šIoCå®¹å™¨ã€ä¾èµ–æ³¨å…¥(DI)ã€é¢å‘åˆ‡é¢ç¼–ç¨‹(AOP)ã€‚
ä¸€ã€IoCå®¹å™¨ï¼ˆæ§åˆ¶åè½¬ï¼‰ ä»€ä¹ˆæ˜¯IoCï¼Ÿ IoC (Inversion of Control) æ§åˆ¶åè½¬ï¼Œæ˜¯ä¸€ç§è®¾è®¡åŸåˆ™ã€‚ä¼ ç»Ÿçš„ç¨‹åºè®¾è®¡ä¸­ï¼Œå¯¹è±¡çš„åˆ›å»ºå’Œä¾èµ–å…³ç³»ç”±ç¨‹åºä»£ç ç›´æ¥æ§åˆ¶ï¼Œè€ŒIoCå°†è¿™ç§æ§åˆ¶æƒäº¤ç»™äº†æ¡†æ¶ã€‚
ä¼ ç»Ÿæ–¹å¼ vs IoCæ–¹å¼ ä¼ ç»Ÿæ–¹å¼ï¼š
public class UserService { private UserDao userDao = new UserDao(); // æ‰‹åŠ¨åˆ›å»ºä¾èµ– public void saveUser(User user) { userDao.save(user); } } IoCæ–¹å¼ï¼š
@Service public class UserService { @Autowired private UserDao userDao; // æ¡†æ¶è‡ªåŠ¨æ³¨å…¥ public void saveUser(User user) { userDao.save(user); } } IoCçš„ä¼˜åŠ¿ é™ä½è€¦åˆåº¦ï¼šå¯¹è±¡ä¹‹é—´çš„ä¾èµ–å…³ç³»ç”±æ¡†æ¶ç®¡ç† æé«˜å¯æµ‹è¯•æ€§ï¼šä¾¿äºè¿›è¡Œå•å…ƒæµ‹è¯•å’ŒMock å¢å¼ºå¯ç»´æŠ¤æ€§ï¼šä¿®æ”¹ä¾èµ–å…³ç³»æ— éœ€ä¿®æ”¹ä¸šåŠ¡ä»£ç  æ”¯æŒé…ç½®åŒ–ï¼šå¯ä»¥é€šè¿‡é…ç½®æ–‡ä»¶ç®¡ç†å¯¹è±¡å…³ç³» äºŒã€ä¾èµ–æ³¨å…¥ï¼ˆDIï¼‰ ä»€ä¹ˆæ˜¯ä¾èµ–æ³¨å…¥ï¼Ÿ DI (Dependency Injection) ä¾èµ–æ³¨å…¥ï¼Œæ˜¯IoCå®¹å™¨çš„å…·ä½“å®ç°æ–¹å¼ã€‚å®ƒæ˜¯ä¸€ç§è®¾è®¡æ¨¡å¼ï¼Œç”¨äºå®ç°å¯¹è±¡ä¹‹é—´çš„æ¾è€¦åˆã€‚
...</p>
  </div>
  <footer class="entry-footer"><span title='2024-02-23 02:36:48 +0800 CST'>February 23, 2024</span>&nbsp;Â·&nbsp;3 min&nbsp;Â·&nbsp;tyhzxh</footer>
  <a class="entry-link" aria-label="post link to SpringBoot æ ¸å¿ƒæ¦‚å¿µè¯¦è§£" href="https://tyhzxh.github.io/posts/springboot-fundamentals/"></a>
</article>
    </main>
    
<footer class="footer">
        <span>&copy; 2025 <a href="https://tyhzxh.github.io/">tyhzxhçš„ä¸ªäººåšå®¢</a></span> Â· 

    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://github.com/adityatelange/hugo-PaperMod/" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)" class="top-link" id="top-link" accesskey="g">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
        <path d="M12 6H0l6-6z" />
    </svg>
</a>

<script>
    let menu = document.getElementById('menu')
    if (menu) {
        menu.scrollLeft = localStorage.getItem("menu-scroll-position");
        menu.onscroll = function () {
            localStorage.setItem("menu-scroll-position", menu.scrollLeft);
        }
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
</body>

</html>
