<?xml version="1.0" encoding="utf-8" standalone="yes"?><rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:content="http://purl.org/rss/1.0/modules/content/"><channel><title>æŠ€æœ¯æ–‡æ¡£ on tyhzxhçš„ä¸ªäººåšå®¢</title><link>https://tyhzxh.github.io/categories/%E6%8A%80%E6%9C%AF%E6%96%87%E6%A1%A3/</link><description>Recent content in æŠ€æœ¯æ–‡æ¡£ on tyhzxhçš„ä¸ªäººåšå®¢</description><generator>Hugo -- 0.148.2</generator><language>zh-cn</language><lastBuildDate>Fri, 09 Feb 2024 17:44:43 +0800</lastBuildDate><atom:link href="https://tyhzxh.github.io/categories/%E6%8A%80%E6%9C%AF%E6%96%87%E6%A1%A3/index.xml" rel="self" type="application/rss+xml"/><item><title>Git ç‰ˆæœ¬æ§åˆ¶å­¦ä¹ ç¬”è®°</title><link>https://tyhzxh.github.io/posts/git-notes/</link><pubDate>Fri, 09 Feb 2024 17:44:43 +0800</pubDate><guid>https://tyhzxh.github.io/posts/git-notes/</guid><description>Gitç‰ˆæœ¬æ§åˆ¶ç³»ç»Ÿçš„åŸºç¡€æ¦‚å¿µå’Œå¸¸ç”¨æ“ä½œï¼ŒåŒ…æ‹¬å·¥ä½œåŒºã€æš‚å­˜åŒºã€ç‰ˆæœ¬åº“çš„æ¦‚å¿µä»¥åŠå„ç§Gitå‘½ä»¤çš„ä½¿ç”¨æ–¹æ³•</description><content:encoded><![CDATA[<blockquote>
<p>æœ¬æ–‡æ˜¯å­¦ä¹ å»–é›ªå³°Gitæ•™ç¨‹çš„å­¦ä¹ ç¬”è®°ï¼Œæ•´ç†äº†Gitçš„åŸºç¡€æ¦‚å¿µå’Œå¸¸ç”¨æ“ä½œã€‚</p></blockquote>
<h2 id="åŸºç¡€æ¦‚å¿µ">åŸºç¡€æ¦‚å¿µ</h2>
<p><em><strong>åœ¨.gitæ–‡ä»¶æ‰€åœ¨ç›®å½•ä¸‹è¿›è¡Œæ“ä½œ</strong></em></p>
<p>Gitæœ‰ä¸‰ä¸ªé‡è¦çš„åŒºåŸŸï¼š</p>
<ol>
<li><strong>å·¥ä½œåŒº(Working Directory)</strong> - æ‰€å¤„çš„æ–‡ä»¶ç›®å½•</li>
<li><strong>æš‚å­˜åŒº(Stage)</strong> - é‡ç‚¹æ¦‚å¿µï¼Œä¸´æ—¶å­˜å‚¨ä¿®æ”¹çš„åœ°æ–¹</li>
<li><strong>ç‰ˆæœ¬åº“(Repository)</strong> - å·¥ä½œåŒºæœ‰ä¸€ä¸ªéšè—ç›®å½• <code>.git</code>ï¼Œè¿™ä¸ªä¸ç®—å·¥ä½œåŒºï¼Œè€Œæ˜¯Gitçš„ç‰ˆæœ¬åº“</li>
</ol>
<blockquote>
<p><strong>é‡è¦æç¤º</strong>ï¼šåˆ›å»ºGitç‰ˆæœ¬åº“æ—¶ï¼ŒGitè‡ªåŠ¨ä¸ºæˆ‘ä»¬åˆ›å»ºäº†å”¯ä¸€ä¸€ä¸ªmaster(main)åˆ†æ”¯ï¼Œæ‰€ä»¥<code>git commit</code>å°±æ˜¯å¾€master(main)åˆ†æ”¯ä¸Šæäº¤æ›´æ”¹ã€‚</p></blockquote>
<h2 id="åŸºç¡€æ“ä½œwindowsä¸‹">åŸºç¡€æ“ä½œ(Windowsä¸‹)</h2>
<p><strong>æ ¸å¿ƒç†å¿µ</strong>ï¼š<code>git add</code>å‘½ä»¤å®é™…ä¸Šå°±æ˜¯æŠŠè¦æäº¤çš„æ‰€æœ‰ä¿®æ”¹æ”¾åˆ°æš‚å­˜åŒºï¼ˆStageï¼‰ï¼Œç„¶åï¼Œæ‰§è¡Œ<code>git commit</code>å°±å¯ä»¥ä¸€æ¬¡æ€§æŠŠæš‚å­˜åŒºçš„æ‰€æœ‰ä¿®æ”¹æäº¤åˆ°åˆ†æ”¯ã€‚</p>
<p><strong>æ¨èç¯å¢ƒ</strong>ï¼šåœ¨PowerShellæˆ–Git Bashä¸‹è¾“å…¥å‘½ä»¤
<em>å»ºè®®ä½¿ç”¨Git Bash - æ”¯æŒå¾ˆå¤šLinuxä¸‹çš„å‘½ä»¤</em></p>
<h3 id="åˆå§‹åŒ–å’Œæ·»åŠ æ–‡ä»¶">åˆå§‹åŒ–å’Œæ·»åŠ æ–‡ä»¶</h3>
<ol>
<li><strong>åˆå§‹åŒ–Gitä»“åº“</strong>ï¼šä½¿ç”¨<code>git init</code>å‘½ä»¤</li>
<li><strong>æ·»åŠ æ–‡ä»¶åˆ°Gitä»“åº“</strong>ï¼Œåˆ†ä¸¤æ­¥ï¼š
<ul>
<li>ä½¿ç”¨å‘½ä»¤<code>git add &lt;file&gt;</code>ï¼Œæ³¨æ„ï¼Œå¯åå¤å¤šæ¬¡ä½¿ç”¨ï¼Œæ·»åŠ å¤šä¸ªå·¥ä½œåŒºæ–‡ä»¶åˆ°æš‚å­˜åŒº</li>
<li>ä½¿ç”¨å‘½ä»¤<code>git commit -m &lt;message&gt;</code>æ·»åŠ æš‚å­˜åŒºæ‰€æœ‰æ–‡ä»¶åˆ°Gitä»“åº“ï¼Œå®Œæˆ</li>
</ul>
</li>
</ol>
<h3 id="-å®ç”¨æŠ€å·§">ğŸ’¡ å®ç”¨æŠ€å·§</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># ä¸€æ¬¡æ€§æ·»åŠ æ‰€æœ‰æ”¹åŠ¨</span>
</span></span><span class="line"><span class="cl">git add .
</span></span></code></pre></div><h2 id="æ£€æŸ¥æ“ä½œ">æ£€æŸ¥æ“ä½œ</h2>
<h3 id="æŸ¥çœ‹çŠ¶æ€">æŸ¥çœ‹çŠ¶æ€</h3>
<p>æ£€æŸ¥ <em><strong>å·¥ä½œåŒº+æš‚å­˜åŒº</strong></em> çš„çŠ¶æ€ï¼Œä½¿ç”¨<code>git status</code>å‘½ä»¤ï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">Changes to be committed:
</span></span><span class="line"><span class="cl"><span class="o">(</span>use <span class="s2">&#34;git restore --staged &lt;file&gt;...&#34;</span> to unstage<span class="o">)</span>
</span></span><span class="line"><span class="cl">        modified:   1.md
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">Changes not staged <span class="k">for</span> commit:
</span></span><span class="line"><span class="cl"><span class="o">(</span>use <span class="s2">&#34;git add &lt;file&gt;...&#34;</span> to update what will be committed<span class="o">)</span>
</span></span><span class="line"><span class="cl"><span class="o">(</span>use <span class="s2">&#34;git restore &lt;file&gt;...&#34;</span> to discard changes in working directory<span class="o">)</span>
</span></span><span class="line"><span class="cl">        modified:   1.md
</span></span></code></pre></div><h3 id="æŸ¥çœ‹ä¿®æ”¹å†…å®¹">æŸ¥çœ‹ä¿®æ”¹å†…å®¹</h3>
<p>å¦‚æœ<code>git status</code>å‘Šè¯‰ä½ æœ‰æ–‡ä»¶è¢«ä¿®æ”¹è¿‡ï¼Œç”¨<code>git diff</code>å¯ä»¥æŸ¥çœ‹ä¿®æ”¹å†…å®¹ï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">$ git diff readme.txt 
</span></span><span class="line"><span class="cl">diff --git a/readme.txt b/readme.txt
</span></span><span class="line"><span class="cl">index 46d49bf..9247db6 <span class="m">100644</span>
</span></span><span class="line"><span class="cl">--- a/readme.txt
</span></span><span class="line"><span class="cl">+++ b/readme.txt
</span></span><span class="line"><span class="cl">@@ -1,2 +1,2 @@
</span></span><span class="line"><span class="cl">-Git is a version control system.
</span></span><span class="line"><span class="cl">+Git is a distributed version control system.
</span></span><span class="line"><span class="cl"> Git is free software.
</span></span></code></pre></div><h3 id="æŸ¥çœ‹å†å²è®°å½•">æŸ¥çœ‹å†å²è®°å½•</h3>
<p>åœ¨Gitä¸­ï¼Œæˆ‘ä»¬ç”¨<code>git log</code>å‘½ä»¤æŸ¥çœ‹å†å²ä¿®æ”¹è®°å½•ï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">$ git log
</span></span><span class="line"><span class="cl">commit 1094adb7b9b3807259d8cb349e7df1d4d6477073 <span class="o">(</span>HEAD -&gt; master<span class="o">)</span>
</span></span><span class="line"><span class="cl">Author: Michael Liao &lt;askxuefeng@gmail.com&gt;
</span></span><span class="line"><span class="cl">Date:   Fri May <span class="m">18</span> 21:06:15 <span class="m">2018</span> +0800
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">append GPL
</span></span></code></pre></div><p>å¦‚æœå«Œè¾“å‡ºè®°å½•å¤ªå¤šï¼Œå¯ä»¥åŠ ä¸Š<code>--pretty=oneline</code>å‚æ•°ï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">$ git log --pretty<span class="o">=</span>oneline
</span></span><span class="line"><span class="cl">049c19eb21cbe21986810b7de105d3d7ab584d1c <span class="o">(</span>HEAD -&gt; main<span class="o">)</span> <span class="m">1</span>
</span></span><span class="line"><span class="cl">a87bfdefbae52977a72b7955a406eab118a04df5 w
</span></span><span class="line"><span class="cl">1dc3373085994a336323614fa726732b582f22f2 <span class="m">1</span>
</span></span></code></pre></div><p><strong>è¯´æ˜</strong>ï¼šä¸€å¤§ä¸²ç±»ä¼¼<code>049c19eb21cbe...</code>çš„æ˜¯commit idï¼ˆç‰ˆæœ¬å·ï¼‰ï¼Œç”±SHA1è®¡ç®—å‡ºæ¥çš„ä¸€ä¸ªéå¸¸å¤§çš„æ•°å­—ï¼Œç”¨åå…­è¿›åˆ¶è¡¨ç¤ºã€‚</p>
<h3 id="ç‰ˆæœ¬æŒ‡é’ˆæ¦‚å¿µ">ç‰ˆæœ¬æŒ‡é’ˆæ¦‚å¿µ</h3>
<p>åœ¨Gitä¸­ï¼š</p>
<ul>
<li><strong>HEAD</strong> è¡¨ç¤ºå½“å‰ç‰ˆæœ¬ï¼Œä¹Ÿå°±æ˜¯æœ€æ–°çš„æäº¤</li>
<li><strong>HEAD^</strong> è¡¨ç¤ºä¸Šä¸€ä¸ªç‰ˆæœ¬</li>
<li><strong>HEAD^^</strong> è¡¨ç¤ºä¸Šä¸Šä¸€ä¸ªç‰ˆæœ¬</li>
<li><strong>HEAD~100</strong> è¡¨ç¤ºå¾€ä¸Š100ä¸ªç‰ˆæœ¬</li>
</ul>
<h2 id="å›é€€æ“ä½œ">å›é€€æ“ä½œ</h2>
<h3 id="å·¥ä½œåŒºå›é€€">å·¥ä½œåŒºå›é€€</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># ä¸¢å¼ƒå·¥ä½œåŒºçš„ä¿®æ”¹</span>
</span></span><span class="line"><span class="cl">git checkout -- file
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># ç¤ºä¾‹</span>
</span></span><span class="line"><span class="cl">git checkout -- readme.txt
</span></span></code></pre></div><p><strong>æ³¨æ„</strong>ï¼š<code>--</code> å¾ˆé‡è¦ï¼Œä¸èƒ½çœç•¥ï¼</p>
<h3 id="æš‚å­˜åŒºå›é€€">æš‚å­˜åŒºå›é€€</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># æŠŠæš‚å­˜åŒºçš„ä¿®æ”¹æ’¤é”€æ‰ï¼ˆunstageï¼‰ï¼Œé‡æ–°æ”¾å›å·¥ä½œåŒº</span>
</span></span><span class="line"><span class="cl">git reset HEAD &lt;file&gt;
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># ç¤ºä¾‹</span>
</span></span><span class="line"><span class="cl">git reset HEAD 1.md
</span></span></code></pre></div><h3 id="ç‰ˆæœ¬åº“å›é€€">ç‰ˆæœ¬åº“å›é€€</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># å›é€€åˆ°ä¸Šä¸€ä¸ªç‰ˆæœ¬</span>
</span></span><span class="line"><span class="cl">git reset --hard HEAD^
</span></span></code></pre></div><p><strong>ä¸ªäººç†è§£</strong>ï¼šç‰ˆæœ¬å›é€€å°±æ˜¯ä¿®æ”¹HEADæŒ‡é’ˆçš„æŒ‡å‘ï¼ˆHEADæŒ‡å‘å½“å‰æ‰€å¤„ç‰ˆæœ¬ï¼‰</p>
<p>å¦‚æœå›é€€åæƒ³è¦æ¢å¤ï¼Œå¯ä»¥ä½¿ç”¨<code>git reflog</code>æ¥æŸ¥çœ‹æ¯ä¸€æ¬¡å‘½ä»¤çš„è®°å½•ï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">$ git reflog
</span></span><span class="line"><span class="cl">e475afc HEAD@<span class="o">{</span>1<span class="o">}</span>: reset: moving to HEAD^
</span></span><span class="line"><span class="cl">1094adb <span class="o">(</span>HEAD -&gt; master<span class="o">)</span> HEAD@<span class="o">{</span>2<span class="o">}</span>: commit: append GPL
</span></span><span class="line"><span class="cl">e475afc HEAD@<span class="o">{</span>3<span class="o">}</span>: commit: add distributed
</span></span><span class="line"><span class="cl">eaadf4e HEAD@<span class="o">{</span>4<span class="o">}</span>: commit <span class="o">(</span>initial<span class="o">)</span>: wrote a readme file
</span></span></code></pre></div><p>ä»è¾“å‡ºå¯çŸ¥ï¼Œå¯ä»¥é€šè¿‡commit idæ¥æ¢å¤åˆ°æŒ‡å®šç‰ˆæœ¬ã€‚</p>
<h2 id="åˆ é™¤æ“ä½œ">åˆ é™¤æ“ä½œ</h2>
<h3 id="æ™®é€šåˆ é™¤-vs-gitåˆ é™¤">æ™®é€šåˆ é™¤ vs Gitåˆ é™¤</h3>
<p><strong>æ™®é€šæƒ…å†µä¸‹</strong>ï¼šç›´æ¥åœ¨æ–‡ä»¶ç®¡ç†å™¨ä¸­åˆ é™¤æ–‡ä»¶ï¼Œæˆ–è€…ç”¨<code>rm</code>å‘½ä»¤åˆ é™¤ï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">rm test.txt
</span></span></code></pre></div><p><strong>åœ¨Gitä¸­</strong>ï¼Œåˆ é™¤æ–‡ä»¶åæŸ¥çœ‹çŠ¶æ€ï¼š</p>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl">$ git status
</span></span><span class="line"><span class="cl">On branch master
</span></span><span class="line"><span class="cl">Changes not staged <span class="k">for</span> commit:
</span></span><span class="line"><span class="cl"><span class="o">(</span>use <span class="s2">&#34;git add/rm &lt;file&gt;...&#34;</span> to update what will be committed<span class="o">)</span>
</span></span><span class="line"><span class="cl"><span class="o">(</span>use <span class="s2">&#34;git checkout -- &lt;file&gt;...&#34;</span> to discard changes in working directory<span class="o">)</span>
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">deleted:    test.txt
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl">no changes added to commit <span class="o">(</span>use <span class="s2">&#34;git add&#34;</span> and/or <span class="s2">&#34;git commit -a&#34;</span><span class="o">)</span>
</span></span></code></pre></div><p>å¯ä»¥çœ‹å‡ºå·¥ä½œåŒºå’Œç‰ˆæœ¬åº“ä¸ä¸€è‡´ï¼Œæ­¤æ—¶æœ‰ä¸¤ä¸ªé€‰æ‹©ï¼š</p>
<h3 id="é€‰æ‹©1ç¡®å®è¦åˆ é™¤">é€‰æ‹©1ï¼šç¡®å®è¦åˆ é™¤</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># ä»ç‰ˆæœ¬åº“ä¸­åˆ é™¤æ–‡ä»¶</span>
</span></span><span class="line"><span class="cl">git rm test.txt
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># æäº¤åˆ é™¤æ“ä½œ</span>
</span></span><span class="line"><span class="cl">git commit -m <span class="s2">&#34;remove test.txt&#34;</span>
</span></span></code></pre></div><h3 id="é€‰æ‹©2è¯¯åˆ æ¢å¤">é€‰æ‹©2ï¼šè¯¯åˆ æ¢å¤</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># ä»ç‰ˆæœ¬åº“æ¢å¤æ–‡ä»¶åˆ°å·¥ä½œåŒº</span>
</span></span><span class="line"><span class="cl">git checkout -- test.txt
</span></span></code></pre></div><blockquote>
<p><strong>é‡è¦æé†’</strong>ï¼š<code>git checkout</code>å…¶å®æ˜¯ç”¨ç‰ˆæœ¬åº“é‡Œçš„ç‰ˆæœ¬æ›¿æ¢å·¥ä½œåŒºçš„ç‰ˆæœ¬ï¼Œæ— è®ºå·¥ä½œåŒºæ˜¯ä¿®æ”¹è¿˜æ˜¯åˆ é™¤ï¼Œéƒ½å¯ä»¥&quot;ä¸€é”®è¿˜åŸ&quot;ã€‚ä½†æ˜¯ï¼Œä»æ¥æ²¡æœ‰è¢«æ·»åŠ åˆ°ç‰ˆæœ¬åº“å°±è¢«åˆ é™¤çš„æ–‡ä»¶ï¼Œæ˜¯æ— æ³•æ¢å¤çš„ï¼</p></blockquote>
<h2 id="è¿œç¨‹ä»“åº“">è¿œç¨‹ä»“åº“</h2>
<h3 id="åŸºæœ¬æ“ä½œ">åŸºæœ¬æ“ä½œ</h3>
<div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="c1"># æ¨é€åˆ°è¿œç¨‹ä»“åº“</span>
</span></span><span class="line"><span class="cl">git push origin master
</span></span><span class="line"><span class="cl">
</span></span><span class="line"><span class="cl"><span class="c1"># æ·»åŠ è¿œç¨‹ä»“åº“</span>
</span></span><span class="line"><span class="cl">git remote add origin https://github.com/tyhzxh/tyhzxh.github.io.git
</span></span></code></pre></div><h3 id="ä¸ªäººç»éªŒ">ä¸ªäººç»éªŒ</h3>
<p>å¦‚æœæ˜¯é€šè¿‡<code>git clone</code>è·å–çš„ä»“åº“ï¼Œæœ¬åœ°ä»“åº“å’Œè¿œç¨‹ä»“åº“ä¼šè‡ªåŠ¨åŒæ­¥ï¼Œæ‰€ä»¥æ¯æ¬¡åªéœ€è¦ï¼š</p>
<ol>
<li>åœ¨æœ¬åœ°å®Œæˆä¿®æ”¹å’Œæäº¤</li>
<li>ä½¿ç”¨<code>git push</code>æ¨é€åˆ°è¿œç¨‹ä»“åº“</li>
</ol>
<h2 id="æ€»ç»“">æ€»ç»“</h2>
<p>Gitçš„æ ¸å¿ƒæ¦‚å¿µæ˜¯ç†è§£ä¸‰ä¸ªåŒºåŸŸï¼ˆå·¥ä½œåŒºã€æš‚å­˜åŒºã€ç‰ˆæœ¬åº“ï¼‰ä¹‹é—´çš„å…³ç³»ï¼ŒæŒæ¡äº†è¿™ä¸ªæ¦‚å¿µï¼ŒGitçš„å„ç§æ“ä½œå°±å˜å¾—æ¸…æ™°æ˜äº†ã€‚è®°ä½ï¼š</p>
<ul>
<li><code>git add</code> æ˜¯å°†ä¿®æ”¹ä»å·¥ä½œåŒºæäº¤åˆ°æš‚å­˜åŒº</li>
<li><code>git commit</code> æ˜¯å°†æš‚å­˜åŒºçš„ä¿®æ”¹æäº¤åˆ°ç‰ˆæœ¬åº“</li>
<li><code>git push</code> æ˜¯å°†æœ¬åœ°ç‰ˆæœ¬åº“åŒæ­¥åˆ°è¿œç¨‹ä»“åº“</li>
</ul>
<hr>
<p><em>å‚è€ƒèµ„æ–™ï¼šå»–é›ªå³°Gitæ•™ç¨‹</em></p>
]]></content:encoded></item></channel></rss>